<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <script
      src="https://code.jquery.com/jquery-3.4.1.js"
      integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
      crossorigin="anonymous"
    ></script>

    <script>
      // Read a page's GET URL variables and return them as an associative array.
      const getUrlVars = () => {
        var vars = [],
          hash;
        var hashes = window.location.href
          .slice(window.location.href.indexOf("?") + 1)
          .split("&");
        for (var i = 0; i < hashes.length; i++) {
          hash = hashes[i].split("=");
          vars.push(hash[0]);
          vars[hash[0]] = hash[1];
        }
        return vars;
      };
      $(document).ready(() => {
        const qs = getUrlVars();

        $.get(
          `/api/image?camera=${qs.camera}&date=${encodeURIComponent(qs.date)}`,
          response => {
            $("img").attr("src", response.base64image);
          }
        );
      });
    </script>
  </head>
  <body>
    <img />
  </body>
</html>
